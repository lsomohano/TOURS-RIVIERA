<!-- ***** Reservation Area Start ***** -->
<div class="dorne-contact-area d-md-flex" id="reservation">

  <!-- Reservation Form Area -->
  <div class="contact-form-area equal-height">
    <div class="contact-text">
      <h4><%= __('menu.reserveTour') %>: <%= tour.nombre %></h4>
      <p class="tour-modalidad">
        <strong><%= tour.modalidad === 'grupo' ? __('reservation.modeGroup') : __('reservation.modePrivate') %></strong>
      </p>
    </div>

    <% if (success && success.length) { %>
      <div class="alert alert-success mt-3"><%= success[0] %></div>
    <% } %>
    <% if (error && error.length) { %>
      <div class="alert alert-danger mt-3"><%= error[0] %></div>
    <% } %>

    <div class="contact-form mt-4">
      <form action="/reservar" method="POST">
        <input type="hidden" name="tour_id" value="<%= tour.id %>">
        <input type="hidden" name="modalidad" value="<%= tour.modalidad %>">

        <div class="row">
          <div class="col-12">
            <label for="punto_encuentro"><%= __('reservation.meetingPoint') %></label>
            <input type="text" id="punto_encuentro" name="punto_encuentro" class="form-control" placeholder="Ej. Hotel Riu Playa del Carmen" autocomplete="off">
            <ul id="sugerencias" class="list-group mt-2"></ul>
          </div>

          <div class="col-md-6 mt-3">
            <label for="nombre_cliente"><%= __('reservation.name') %></label>
            <input type="text" id="nombre_cliente" name="nombre_cliente" class="form-control" required>
          </div>

          <div class="col-md-6 mt-3">
            <label for="email"><%= __('reservation.email') %></label>
            <input type="email" id="email" name="email" class="form-control" required>
          </div>

          <div class="col-md-6 mt-3">
            <label for="telefono"><%= __('reservation.phone') %></label>
            <input type="text" id="telefono" name="telefono" class="form-control" required>
          </div>

          <div class="col-md-6 mt-3">
            <label for="fecha_reserva"><%= __('reservation.reserveDate') %></label>
            <input type="date" id="fecha_reserva" name="fecha_reserva" class="form-control" required>
          </div>

          <div class="col-md-6 mt-3">
            <label for="cantidad_personas"><%= __('reservation.numberOfPeople') %></label>
            <input type="number" id="cantidad_personas" name="cantidad_personas" class="form-control" min="1" required>
          </div>

          <div class="col-md-6 mt-3">
            <label for="metodo_pago"><%= __('reservation.paymentMethod') %></label>
            <select id="metodo_pago" name="metodo_pago" class="custom-select" required>
              <option value="stripe">Stripe</option>
              <option value="efectivo">Efectivo</option>
              <option value="transferencia">Transferencia</option>
            </select>
          </div>

          <% if (tour.modalidad === 'privado') { %>
            <div class="col-12 mt-3">
              <label for="peticiones_especiales"><%= __('reservation.specialRequests') %></label>
              <textarea id="peticiones_especiales" name="peticiones_especiales" class="form-control" rows="3"></textarea>
            </div>
          <% } %>

          <div class="col-12 mt-4">
            <button type="submit" class="btn dorne-btn w-100"><%= __('reservation.reserveButton') %></button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- Image Area -->
  <div class="dorne-map-area equal-height">
    <img
      src="<%= tour.imagen_destacada %>"
      alt="Imagen destacada de <%= tour.nombre %>"
      class="img-fluid w-100 h-100 object-fit-cover"
      style="object-fit: cover;"
    />
  </div>
</div>
<!-- ***** Reservation Area End ***** -->
